# Task 06: Init コマンドの実装

テストカバレッジの向上、お疲れ様でした。主要コンポーネントが堅牢になったことで、安心して新機能を追加できます。
Phase 2 のクライマックスとして、ユーザー体験を劇的に向上させる `init` コマンドを実装しましょう。

## 目的
`agent-factory-mcp init` コマンドを実装し、対話形式で `ai-tools.json` を生成できるようにする。

## 実装ステップ

### 1. index.ts の拡張
- `process.argv` を解析し、第一引数が `init` の場合にセットアップモードに入る分岐を追加。
- 既存のサーバー起動ロジックとは分離すること。

### 2. 対話型セットアップの実装
- **ファイル**: `src/utils/setupWizard.ts` を新規作成。
- **使用ライブラリ**: `inquirer` (プロジェクトにインストール済み)。
- **フロー**:
  1. **ウェルカムメッセージ**: 簡潔に挨拶。
  2. **ツール選択**: `checkbox` タイプで、検出されたツール（および推奨ツール）一覧を表示し、有効化するものを選択させる。
     - *ヒント*: `AutoDiscovery.discoverCompatibleTools()` を再利用するとスマートです。
  3. **詳細設定 (Optional)**: 選択されたツールについて、エイリアスやシステムプロンプトを設定するか聞く（デフォルト値で良ければスキップ）。
  4. **保存確認**: 生成される JSON のプレビューを表示し、保存するか確認。
  5. **ファイル生成**: `ai-tools.json` を保存。

### 3. テスト
- **ファイル**: `test/utils/setupWizard.test.ts` を作成。
- **方針**: `inquirer` をモック化し、ユーザー入力をシミュレートして JSON が正しく生成されるか検証。

## 完了条件
- `npx agent-factory-mcp init` (または `npm start init`) でウィザードが起動する。
- 選択した内容に基づいて正しい `ai-tools.json` が生成される。
- 既存の設定ファイルがある場合は、上書き確認を行う。

これが完了すれば、Phase 2 の開発実装はすべて完了です！
